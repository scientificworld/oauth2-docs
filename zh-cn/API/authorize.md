# 获取授权码

应用需将用户引导并重定向至以下终结点。

`GET https://api.koishi514.moe/oauth/authorize`

参数说明：

| 参数名 | 是否必须 | 描述 |
| ------ | -------- | ---- |
| client\_id | 是 | 注册应用时获得的 API Key |
| response\_type | 否 | 默认为 code，非 code 的值将会报错 |
| redirect\_uri | 否 | 需要满足下列条件中的一种：与注册时的回调地址除参数和锚点之外的部分一致；主机名为环回地址；注册时没有填写回调地址（此时必须提供该参数） |
| scope | 否 | 用空格分隔的权限列表，如果未提供，默认为所有可用权限 |
| state | 否 | 用于防止 CSRF 攻击，会作为参数传递给回调地址 |

在用户通过验证成功登录后，页面将会重定向至回调地址，携带 `code` 和 `state` 参数。

`code` 参数即为授权码，有效期 60 秒，为 JWT 格式。不保证以后格式不会变化，请不要尝试解析其中内容。

如果用户取消登录，则会在重定向时携带 `error`（值固定为 cancelled）和 `state` 参数。
